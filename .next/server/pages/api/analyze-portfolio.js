"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/analyze-portfolio";
exports.ids = ["pages/api/analyze-portfolio"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node-fetch");

/***/ }),

/***/ "@brian-ai/langchain":
/*!**************************************!*\
  !*** external "@brian-ai/langchain" ***!
  \**************************************/
/***/ ((module) => {

module.exports = import("@brian-ai/langchain");;

/***/ }),

/***/ "@langchain/openai":
/*!************************************!*\
  !*** external "@langchain/openai" ***!
  \************************************/
/***/ ((module) => {

module.exports = import("@langchain/openai");;

/***/ }),

/***/ "viem":
/*!***********************!*\
  !*** external "viem" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("viem");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalyze-portfolio&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fanalyze-portfolio.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalyze-portfolio&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fanalyze-portfolio.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_analyze_portfolio_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/analyze-portfolio.ts */ \"(api)/./pages/api/analyze-portfolio.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_analyze_portfolio_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_analyze_portfolio_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_analyze_portfolio_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_analyze_portfolio_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/analyze-portfolio\",\n        pathname: \"/api/analyze-portfolio\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_analyze_portfolio_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFuYWx5emUtcG9ydGZvbGlvJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZhbmFseXplLXBvcnRmb2xpby50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUM2RDtBQUM3RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsNERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDREQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2FuYWx5emUtcG9ydGZvbGlvLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXplLXBvcnRmb2xpb1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FuYWx5emUtcG9ydGZvbGlvXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalyze-portfolio&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fanalyze-portfolio.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/analyze-portfolio.ts":
/*!****************************************!*\
  !*** ./pages/api/analyze-portfolio.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _brian_ai_langchain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @brian-ai/langchain */ \"@brian-ai/langchain\");\n/* harmony import */ var _langchain_openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/openai */ \"@langchain/openai\");\n/* harmony import */ var _utils_infura__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/infura */ \"(api)/./utils/infura.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_brian_ai_langchain__WEBPACK_IMPORTED_MODULE_0__, _langchain_openai__WEBPACK_IMPORTED_MODULE_1__, _utils_infura__WEBPACK_IMPORTED_MODULE_2__]);\n([_brian_ai_langchain__WEBPACK_IMPORTED_MODULE_0__, _langchain_openai__WEBPACK_IMPORTED_MODULE_1__, _utils_infura__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Initialize services\nconst infura = new _utils_infura__WEBPACK_IMPORTED_MODULE_2__.InfuraService(process.env.INFURA_API_KEY);\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        const { address, chain } = req.body;\n        // Initialize Brian Agent\n        const agent = await (0,_brian_ai_langchain__WEBPACK_IMPORTED_MODULE_0__.createBrianAgent)({\n            apiKey: process.env.BRIAN_API_KEY,\n            privateKeyOrAccount: process.env.AGENT_PRIVATE_KEY,\n            llm: new _langchain_openai__WEBPACK_IMPORTED_MODULE_1__.ChatOpenAI({\n                apiKey: process.env.OPENAI_API_KEY\n            }),\n            metadata: {\n                supportedProtocols: [\n                    \"uniswap\",\n                    \"aave\",\n                    \"curve\"\n                ],\n                supportedChains: [\n                    \"ethereum\",\n                    \"arbitrum\",\n                    \"optimism\",\n                    \"polygon\",\n                    \"base\"\n                ]\n            }\n        });\n        // Get wallet info from Infura\n        const walletInfo = await infura.getWalletInfo(address, chain);\n        // Get analysis from Brian\n        const analysis = await agent.invoke({\n            input: `Analyze this wallet's DeFi positions and opportunities:\n        Address: ${address}\n        Chain: ${chain}\n        Native Balance: ${walletInfo.nativeBalance}\n        Token Balances: ${JSON.stringify(walletInfo.tokens)}\n        \n        Please provide:\n        1. Total portfolio value in USD\n        2. Best yield opportunities\n        3. Risk assessment\n        4. Optimization suggestions`,\n            metadata: {\n                address,\n                chain\n            }\n        });\n        return res.status(200).json({\n            walletInfo,\n            analysis\n        });\n    } catch (error) {\n        console.error('Analysis Error:', error);\n        return res.status(500).json({\n            error: 'Internal server error'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYW5hbHl6ZS1wb3J0Zm9saW8udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUN1RDtBQUNSO0FBQ0k7QUFFbkQsc0JBQXNCO0FBQ3RCLE1BQU1HLFNBQVMsSUFBSUQsd0RBQWFBLENBQUNFLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztBQUU1QyxlQUFlQyxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQW9CO0lBRXBCLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFLEdBQUdQLElBQUlRLElBQUk7UUFFbkMseUJBQXlCO1FBQ3pCLE1BQU1DLFFBQVEsTUFBTWpCLHFFQUFnQkEsQ0FBQztZQUNuQ2tCLFFBQVFkLFFBQVFDLEdBQUcsQ0FBQ2MsYUFBYTtZQUNqQ0MscUJBQXFCaEIsUUFBUUMsR0FBRyxDQUFDZ0IsaUJBQWlCO1lBQ2xEQyxLQUFLLElBQUlyQix5REFBVUEsQ0FBQztnQkFBRWlCLFFBQVFkLFFBQVFDLEdBQUcsQ0FBQ2tCLGNBQWM7WUFBQztZQUN6REMsVUFBVTtnQkFDUkMsb0JBQW9CO29CQUFDO29CQUFXO29CQUFRO2lCQUFRO2dCQUNoREMsaUJBQWlCO29CQUFDO29CQUFZO29CQUFZO29CQUFZO29CQUFXO2lCQUFPO1lBQzFFO1FBQ0Y7UUFFQSw4QkFBOEI7UUFDOUIsTUFBTUMsYUFBYSxNQUFNeEIsT0FBT3lCLGFBQWEsQ0FBQ2QsU0FBU0M7UUFFdkQsMEJBQTBCO1FBQzFCLE1BQU1jLFdBQVcsTUFBTVosTUFBTWEsTUFBTSxDQUFDO1lBQ2xDQyxPQUFPLENBQUM7aUJBQ0csRUFBRWpCLFFBQVE7ZUFDWixFQUFFQyxNQUFNO3dCQUNDLEVBQUVZLFdBQVdLLGFBQWEsQ0FBQzt3QkFDM0IsRUFBRUMsS0FBS0MsU0FBUyxDQUFDUCxXQUFXUSxNQUFNLEVBQUU7Ozs7OzttQ0FNekIsQ0FBQztZQUM5QlgsVUFBVTtnQkFBRVY7Z0JBQVNDO1lBQU07UUFDN0I7UUFFQSxPQUFPTixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCZTtZQUNBRTtRQUNGO0lBQ0YsRUFBRSxPQUFPaEIsT0FBTztRQUNkdUIsUUFBUXZCLEtBQUssQ0FBQyxtQkFBbUJBO1FBQ2pDLE9BQU9KLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QjtJQUMvRDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYWxvay9IYWNrYXRob25zL0Fzc2V0bHkvQXNzZXRseS9wYWdlcy9hcGkvYW5hbHl6ZS1wb3J0Zm9saW8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgeyBjcmVhdGVCcmlhbkFnZW50IH0gZnJvbSBcIkBicmlhbi1haS9sYW5nY2hhaW5cIjtcbmltcG9ydCB7IENoYXRPcGVuQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbmltcG9ydCB7IEluZnVyYVNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvaW5mdXJhXCI7XG5cbi8vIEluaXRpYWxpemUgc2VydmljZXNcbmNvbnN0IGluZnVyYSA9IG5ldyBJbmZ1cmFTZXJ2aWNlKHByb2Nlc3MuZW52LklORlVSQV9BUElfS0VZISk7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXG4pIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBhZGRyZXNzLCBjaGFpbiB9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBJbml0aWFsaXplIEJyaWFuIEFnZW50XG4gICAgY29uc3QgYWdlbnQgPSBhd2FpdCBjcmVhdGVCcmlhbkFnZW50KHtcbiAgICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuQlJJQU5fQVBJX0tFWSEsXG4gICAgICBwcml2YXRlS2V5T3JBY2NvdW50OiBwcm9jZXNzLmVudi5BR0VOVF9QUklWQVRFX0tFWSEgYXMgYDB4JHtzdHJpbmd9YCxcbiAgICAgIGxsbTogbmV3IENoYXRPcGVuQUkoeyBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIH0pLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgc3VwcG9ydGVkUHJvdG9jb2xzOiBbXCJ1bmlzd2FwXCIsIFwiYWF2ZVwiLCBcImN1cnZlXCJdLFxuICAgICAgICBzdXBwb3J0ZWRDaGFpbnM6IFtcImV0aGVyZXVtXCIsIFwiYXJiaXRydW1cIiwgXCJvcHRpbWlzbVwiLCBcInBvbHlnb25cIiwgXCJiYXNlXCJdXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBHZXQgd2FsbGV0IGluZm8gZnJvbSBJbmZ1cmFcbiAgICBjb25zdCB3YWxsZXRJbmZvID0gYXdhaXQgaW5mdXJhLmdldFdhbGxldEluZm8oYWRkcmVzcywgY2hhaW4pO1xuXG4gICAgLy8gR2V0IGFuYWx5c2lzIGZyb20gQnJpYW5cbiAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGFnZW50Lmludm9rZSh7XG4gICAgICBpbnB1dDogYEFuYWx5emUgdGhpcyB3YWxsZXQncyBEZUZpIHBvc2l0aW9ucyBhbmQgb3Bwb3J0dW5pdGllczpcbiAgICAgICAgQWRkcmVzczogJHthZGRyZXNzfVxuICAgICAgICBDaGFpbjogJHtjaGFpbn1cbiAgICAgICAgTmF0aXZlIEJhbGFuY2U6ICR7d2FsbGV0SW5mby5uYXRpdmVCYWxhbmNlfVxuICAgICAgICBUb2tlbiBCYWxhbmNlczogJHtKU09OLnN0cmluZ2lmeSh3YWxsZXRJbmZvLnRva2Vucyl9XG4gICAgICAgIFxuICAgICAgICBQbGVhc2UgcHJvdmlkZTpcbiAgICAgICAgMS4gVG90YWwgcG9ydGZvbGlvIHZhbHVlIGluIFVTRFxuICAgICAgICAyLiBCZXN0IHlpZWxkIG9wcG9ydHVuaXRpZXNcbiAgICAgICAgMy4gUmlzayBhc3Nlc3NtZW50XG4gICAgICAgIDQuIE9wdGltaXphdGlvbiBzdWdnZXN0aW9uc2AsXG4gICAgICBtZXRhZGF0YTogeyBhZGRyZXNzLCBjaGFpbiB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgd2FsbGV0SW5mbyxcbiAgICAgIGFuYWx5c2lzXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQW5hbHlzaXMgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgfVxufSAiXSwibmFtZXMiOlsiY3JlYXRlQnJpYW5BZ2VudCIsIkNoYXRPcGVuQUkiLCJJbmZ1cmFTZXJ2aWNlIiwiaW5mdXJhIiwicHJvY2VzcyIsImVudiIsIklORlVSQV9BUElfS0VZIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImFkZHJlc3MiLCJjaGFpbiIsImJvZHkiLCJhZ2VudCIsImFwaUtleSIsIkJSSUFOX0FQSV9LRVkiLCJwcml2YXRlS2V5T3JBY2NvdW50IiwiQUdFTlRfUFJJVkFURV9LRVkiLCJsbG0iLCJPUEVOQUlfQVBJX0tFWSIsIm1ldGFkYXRhIiwic3VwcG9ydGVkUHJvdG9jb2xzIiwic3VwcG9ydGVkQ2hhaW5zIiwid2FsbGV0SW5mbyIsImdldFdhbGxldEluZm8iLCJhbmFseXNpcyIsImludm9rZSIsImlucHV0IiwibmF0aXZlQmFsYW5jZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b2tlbnMiLCJjb25zb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/analyze-portfolio.ts\n");

/***/ }),

/***/ "(api)/./utils/infura.ts":
/*!*************************!*\
  !*** ./utils/infura.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InfuraService: () => (/* binding */ InfuraService)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! viem */ \"viem\");\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node-fetch */ \"node-fetch\");\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(node_fetch__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([viem__WEBPACK_IMPORTED_MODULE_0__]);\nviem__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst ERC20_ABI = (0,viem__WEBPACK_IMPORTED_MODULE_0__.parseAbi)([\n    'function balanceOf(address) view returns (uint256)',\n    'function symbol() view returns (string)',\n    'function decimals() view returns (uint8)'\n]);\nconst MULTICALL_ABI = [\n    {\n        name: 'aggregate',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'calls',\n                type: 'tuple[]',\n                components: [\n                    {\n                        name: 'target',\n                        type: 'address'\n                    },\n                    {\n                        name: 'callData',\n                        type: 'bytes'\n                    }\n                ]\n            }\n        ],\n        outputs: [\n            {\n                name: 'blockNumber',\n                type: 'uint256'\n            },\n            {\n                name: 'returnData',\n                type: 'bytes[]'\n            }\n        ]\n    }\n];\nconst CHAIN_IDS = {\n    'ethereum': 1,\n    'polygon': 137,\n    'arbitrum': 42161,\n    'optimism': 10,\n    'base': 8453\n};\nconst MULTICALL_ADDRESSES = {\n    'ethereum': '0xcA11bde05977b3631167028862bE2a173976CA11',\n    'polygon': '0xcA11bde05977b3631167028862bE2a173976CA11',\n    'arbitrum': '0xcA11bde05977b3631167028862bE2a173976CA11',\n    'optimism': '0xcA11bde05977b3631167028862bE2a173976CA11',\n    'base': '0xcA11bde05977b3631167028862bE2a173976CA11'\n};\nclass InfuraService {\n    constructor(apiKey){\n        this.apiKey = apiKey;\n        this.tokenLists = {};\n        this.initializeTokenLists();\n    }\n    async initializeTokenLists() {\n        try {\n            // Fetch token lists for each chain\n            const [mainnetTokens, polygonTokens] = await Promise.all([\n                node_fetch__WEBPACK_IMPORTED_MODULE_1___default()('https://tokens.coingecko.com/uniswap/all.json').then((r)=>r.json()),\n                node_fetch__WEBPACK_IMPORTED_MODULE_1___default()('https://raw.githubusercontent.com/maticnetwork/polygon-token-list/master/src/tokens.json').then((r)=>r.json())\n            ]);\n            // Initialize token lists by chain ID\n            this.tokenLists = {\n                [CHAIN_IDS.ethereum]: mainnetTokens.tokens,\n                [CHAIN_IDS.polygon]: polygonTokens\n            };\n        } catch (error) {\n            console.error('Failed to initialize token lists:', error);\n        }\n    }\n    getNetworkUrl(chain) {\n        const networkMap = {\n            'ethereum': 'mainnet',\n            'polygon': 'polygon-mainnet',\n            'arbitrum': 'arbitrum-mainnet',\n            'optimism': 'optimism-mainnet',\n            'base': 'base-mainnet'\n        };\n        const network = networkMap[chain] || 'mainnet';\n        return `https://${network}.infura.io/v3/${this.apiKey}`;\n    }\n    async getWalletInfo(address, chain = 'ethereum') {\n        try {\n            // Get native token balance\n            const balanceResponse = await this.jsonRpcCall(chain, {\n                method: 'eth_getBalance',\n                params: [\n                    address,\n                    'latest'\n                ]\n            });\n            // Get token balances using multicall\n            const chainId = CHAIN_IDS[chain];\n            const tokens = this.tokenLists[chainId] || [];\n            const tokenBalances = await this.getTokenBalances(address, tokens, chain);\n            // Get token prices from CoinGecko (implement rate limiting)\n            const tokenPrices = await this.getTokenPrices(tokens.map((t)=>t.address));\n            // Calculate total value and format balances\n            const formattedBalances = tokenBalances.map((balance, i)=>({\n                    token: tokens[i],\n                    balance: (0,viem__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(BigInt(balance), tokens[i].decimals),\n                    valueUSD: tokenPrices[tokens[i].address.toLowerCase()] || 0\n                }));\n            return {\n                nativeBalance: (0,viem__WEBPACK_IMPORTED_MODULE_0__.formatEther)(BigInt(balanceResponse.result)),\n                tokens: formattedBalances.filter((t)=>parseFloat(t.balance) > 0)\n            };\n        } catch (error) {\n            console.error('Infura API Error:', error);\n            throw error;\n        }\n    }\n    async getTokenBalances(address, tokens, chain) {\n        if (!tokens.length) return [];\n        const multicallAddress = MULTICALL_ADDRESSES[chain];\n        // Prepare the calls array\n        const calls = tokens.map((token)=>({\n                target: token.address,\n                callData: (0,viem__WEBPACK_IMPORTED_MODULE_0__.encodeFunctionData)({\n                    abi: ERC20_ABI,\n                    functionName: 'balanceOf',\n                    args: [\n                        address\n                    ]\n                })\n            }));\n        // Make the multicall\n        const response = await this.jsonRpcCall(chain, {\n            method: 'eth_call',\n            params: [\n                {\n                    to: multicallAddress,\n                    data: (0,viem__WEBPACK_IMPORTED_MODULE_0__.encodeFunctionData)({\n                        abi: MULTICALL_ABI,\n                        functionName: 'aggregate',\n                        args: [\n                            calls\n                        ]\n                    })\n                },\n                'latest'\n            ]\n        });\n        return response.result[1];\n    }\n    async getTokenPrices(addresses) {\n        try {\n            const response = await node_fetch__WEBPACK_IMPORTED_MODULE_1___default()(`https://api.coingecko.com/api/v3/simple/token_price/ethereum?contract_addresses=${addresses.join(',')}&vs_currencies=usd`);\n            return response.json();\n        } catch (error) {\n            console.error('Failed to fetch token prices:', error);\n            return {};\n        }\n    }\n    async jsonRpcCall(chain, payload) {\n        const url = this.getNetworkUrl(chain);\n        const response = await node_fetch__WEBPACK_IMPORTED_MODULE_1___default()(url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                jsonrpc: '2.0',\n                id: 1,\n                ...payload\n            })\n        });\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9pbmZ1cmEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4RTtBQUMvQztBQWdCL0IsTUFBTUssWUFBWUYsOENBQVFBLENBQUM7SUFDekI7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxNQUFNRyxnQkFBZ0I7SUFDcEI7UUFDRUMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGlCQUFpQjtRQUNqQkMsUUFBUTtZQUFDO2dCQUNQSCxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxZQUFZO29CQUNWO3dCQUFFSixNQUFNO3dCQUFVQyxNQUFNO29CQUFVO29CQUNsQzt3QkFBRUQsTUFBTTt3QkFBWUMsTUFBTTtvQkFBUTtpQkFDbkM7WUFDSDtTQUFFO1FBQ0ZJLFNBQVM7WUFDUDtnQkFBRUwsTUFBTTtnQkFBZUMsTUFBTTtZQUFVO1lBQ3ZDO2dCQUFFRCxNQUFNO2dCQUFjQyxNQUFNO1lBQVU7U0FDdkM7SUFDSDtDQUNEO0FBRUQsTUFBTUssWUFBWTtJQUNoQixZQUFZO0lBQ1osV0FBVztJQUNYLFlBQVk7SUFDWixZQUFZO0lBQ1osUUFBUTtBQUNWO0FBRUEsTUFBTUMsc0JBQXNCO0lBQzFCLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtJQUNaLFlBQVk7SUFDWixRQUFRO0FBQ1Y7QUFFTyxNQUFNQztJQUdYQyxZQUFZLE1BQXNCLENBQUU7YUFBaEJDLFNBQUFBO2FBRlpDLGFBQWlELENBQUM7UUFHeEQsSUFBSSxDQUFDQyxvQkFBb0I7SUFDM0I7SUFFQSxNQUFjQSx1QkFBdUI7UUFDbkMsSUFBSTtZQUNGLG1DQUFtQztZQUNuQyxNQUFNLENBQUNDLGVBQWVDLGNBQWMsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ3ZEbkIsaURBQUtBLENBQUMsaURBQWlEb0IsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJO2dCQUN2RXRCLGlEQUFLQSxDQUFDLDRGQUE0Rm9CLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSTthQUNuSDtZQUVELHFDQUFxQztZQUNyQyxJQUFJLENBQUNSLFVBQVUsR0FBRztnQkFDaEIsQ0FBQ0wsVUFBVWMsUUFBUSxDQUFDLEVBQUVQLGNBQWNRLE1BQU07Z0JBQzFDLENBQUNmLFVBQVVnQixPQUFPLENBQUMsRUFBRVI7WUFFdkI7UUFDRixFQUFFLE9BQU9TLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDckQ7SUFDRjtJQUVRRSxjQUFjQyxLQUFhLEVBQVU7UUFDM0MsTUFBTUMsYUFBd0M7WUFDNUMsWUFBWTtZQUNaLFdBQVc7WUFDWCxZQUFZO1lBQ1osWUFBWTtZQUNaLFFBQVE7UUFDVjtRQUVBLE1BQU1DLFVBQVVELFVBQVUsQ0FBQ0QsTUFBTSxJQUFJO1FBQ3JDLE9BQU8sQ0FBQyxRQUFRLEVBQUVFLFFBQVEsY0FBYyxFQUFFLElBQUksQ0FBQ2xCLE1BQU0sRUFBRTtJQUN6RDtJQUVBLE1BQU1tQixjQUFjQyxPQUFlLEVBQUVKLFFBQWdCLFVBQVUsRUFBRTtRQUMvRCxJQUFJO1lBQ0YsMkJBQTJCO1lBQzNCLE1BQU1LLGtCQUFrQixNQUFNLElBQUksQ0FBQ0MsV0FBVyxDQUFDTixPQUFPO2dCQUNwRE8sUUFBUTtnQkFDUkMsUUFBUTtvQkFBQ0o7b0JBQVM7aUJBQVM7WUFDN0I7WUFFQSxxQ0FBcUM7WUFDckMsTUFBTUssVUFBVTdCLFNBQVMsQ0FBQ29CLE1BQWdDO1lBQzFELE1BQU1MLFNBQVMsSUFBSSxDQUFDVixVQUFVLENBQUN3QixRQUFRLElBQUksRUFBRTtZQUM3QyxNQUFNQyxnQkFBZ0IsTUFBTSxJQUFJLENBQUNDLGdCQUFnQixDQUFDUCxTQUFTVCxRQUFRSztZQUVuRSw0REFBNEQ7WUFDNUQsTUFBTVksY0FBYyxNQUFNLElBQUksQ0FBQ0MsY0FBYyxDQUFDbEIsT0FBT21CLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRVgsT0FBTztZQUV2RSw0Q0FBNEM7WUFDNUMsTUFBTVksb0JBQW9CTixjQUFjSSxHQUFHLENBQUMsQ0FBQ0csU0FBU0MsSUFBTztvQkFDM0RDLE9BQU94QixNQUFNLENBQUN1QixFQUFFO29CQUNoQkQsU0FBU2pELGlEQUFXQSxDQUFDb0QsT0FBT0gsVUFBVXRCLE1BQU0sQ0FBQ3VCLEVBQUUsQ0FBQ0csUUFBUTtvQkFDeERDLFVBQVVWLFdBQVcsQ0FBQ2pCLE1BQU0sQ0FBQ3VCLEVBQUUsQ0FBQ2QsT0FBTyxDQUFDbUIsV0FBVyxHQUFHLElBQUk7Z0JBQzVEO1lBRUEsT0FBTztnQkFDTEMsZUFBZXpELGlEQUFXQSxDQUFDcUQsT0FBT2YsZ0JBQWdCb0IsTUFBTTtnQkFDeEQ5QixRQUFRcUIsa0JBQWtCVSxNQUFNLENBQUNYLENBQUFBLElBQUtZLFdBQVdaLEVBQUVFLE9BQU8sSUFBSTtZQUNoRTtRQUNGLEVBQUUsT0FBT3BCLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFCQUFxQkE7WUFDbkMsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBY2MsaUJBQWlCUCxPQUFlLEVBQUVULE1BQW1CLEVBQUVLLEtBQWEsRUFBcUI7UUFDckcsSUFBSSxDQUFDTCxPQUFPaUMsTUFBTSxFQUFFLE9BQU8sRUFBRTtRQUU3QixNQUFNQyxtQkFBbUJoRCxtQkFBbUIsQ0FBQ21CLE1BQTBDO1FBRXZGLDBCQUEwQjtRQUMxQixNQUFNOEIsUUFBUW5DLE9BQU9tQixHQUFHLENBQUNLLENBQUFBLFFBQVU7Z0JBQ2pDWSxRQUFRWixNQUFNZixPQUFPO2dCQUNyQjRCLFVBQVUvRCx3REFBa0JBLENBQUM7b0JBQzNCZ0UsS0FBSzdEO29CQUNMOEQsY0FBYztvQkFDZEMsTUFBTTt3QkFBQy9CO3FCQUF5QjtnQkFDbEM7WUFDRjtRQUVBLHFCQUFxQjtRQUNyQixNQUFNZ0MsV0FBVyxNQUFNLElBQUksQ0FBQzlCLFdBQVcsQ0FBQ04sT0FBTztZQUM3Q08sUUFBUTtZQUNSQyxRQUFRO2dCQUFDO29CQUNQNkIsSUFBSVI7b0JBQ0pTLE1BQU1yRSx3REFBa0JBLENBQUM7d0JBQ3ZCZ0UsS0FBSzVEO3dCQUNMNkQsY0FBYzt3QkFDZEMsTUFBTTs0QkFBQ0w7eUJBQU07b0JBQ2Y7Z0JBQ0Y7Z0JBQUc7YUFBUztRQUNkO1FBRUEsT0FBT00sU0FBU1gsTUFBTSxDQUFDLEVBQUU7SUFDM0I7SUFFQSxNQUFjWixlQUFlMEIsU0FBbUIsRUFBMEM7UUFDeEYsSUFBSTtZQUNGLE1BQU1ILFdBQVcsTUFBTWpFLGlEQUFLQSxDQUMxQixDQUFDLGdGQUFnRixFQUFFb0UsVUFBVUMsSUFBSSxDQUFDLEtBQUssa0JBQWtCLENBQUM7WUFFNUgsT0FBT0osU0FBUzNDLElBQUk7UUFDdEIsRUFBRSxPQUFPSSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DLE9BQU8sQ0FBQztRQUNWO0lBQ0Y7SUFFQSxNQUFjUyxZQUFZTixLQUFhLEVBQUV5QyxPQUFZLEVBQUU7UUFDckQsTUFBTUMsTUFBTSxJQUFJLENBQUMzQyxhQUFhLENBQUNDO1FBQy9CLE1BQU1vQyxXQUFXLE1BQU1qRSxpREFBS0EsQ0FBQ3VFLEtBQUs7WUFDaENuQyxRQUFRO1lBQ1JvQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtZQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQkMsU0FBUztnQkFDVEMsSUFBSTtnQkFDSixHQUFHUCxPQUFPO1lBQ1o7UUFDRjtRQUVBLElBQUksQ0FBQ0wsU0FBU2EsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFZCxTQUFTZSxNQUFNLEVBQUU7UUFDMUQ7UUFFQSxPQUFPZixTQUFTM0MsSUFBSTtJQUN0QjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYWxvay9IYWNrYXRob25zL0Fzc2V0bHkvQXNzZXRseS91dGlscy9pbmZ1cmEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9ybWF0RXRoZXIsIGZvcm1hdFVuaXRzLCBlbmNvZGVGdW5jdGlvbkRhdGEsIHBhcnNlQWJpIH0gZnJvbSAndmllbSc7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnbm9kZS1mZXRjaCc7XG5cbmludGVyZmFjZSBUb2tlbkluZm8ge1xuICBhZGRyZXNzOiBzdHJpbmc7XG4gIGNoYWluSWQ6IG51bWJlcjtcbiAgZGVjaW1hbHM6IG51bWJlcjtcbiAgc3ltYm9sOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFRva2VuQmFsYW5jZSB7XG4gIHRva2VuOiBUb2tlbkluZm87XG4gIGJhbGFuY2U6IHN0cmluZztcbiAgdmFsdWVVU0Q/OiBudW1iZXI7XG59XG5cbmNvbnN0IEVSQzIwX0FCSSA9IHBhcnNlQWJpKFtcbiAgJ2Z1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzKSB2aWV3IHJldHVybnMgKHVpbnQyNTYpJyxcbiAgJ2Z1bmN0aW9uIHN5bWJvbCgpIHZpZXcgcmV0dXJucyAoc3RyaW5nKScsXG4gICdmdW5jdGlvbiBkZWNpbWFscygpIHZpZXcgcmV0dXJucyAodWludDgpJ1xuXSk7XG5cbmNvbnN0IE1VTFRJQ0FMTF9BQkkgPSBbXG4gIHtcbiAgICBuYW1lOiAnYWdncmVnYXRlJyxcbiAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgIHN0YXRlTXV0YWJpbGl0eTogJ3ZpZXcnLFxuICAgIGlucHV0czogW3tcbiAgICAgIG5hbWU6ICdjYWxscycsXG4gICAgICB0eXBlOiAndHVwbGVbXScsXG4gICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgIHsgbmFtZTogJ3RhcmdldCcsIHR5cGU6ICdhZGRyZXNzJyB9LFxuICAgICAgICB7IG5hbWU6ICdjYWxsRGF0YScsIHR5cGU6ICdieXRlcycgfVxuICAgICAgXVxuICAgIH1dLFxuICAgIG91dHB1dHM6IFtcbiAgICAgIHsgbmFtZTogJ2Jsb2NrTnVtYmVyJywgdHlwZTogJ3VpbnQyNTYnIH0sXG4gICAgICB7IG5hbWU6ICdyZXR1cm5EYXRhJywgdHlwZTogJ2J5dGVzW10nIH1cbiAgICBdXG4gIH1cbl0gYXMgY29uc3Q7XG5cbmNvbnN0IENIQUlOX0lEUyA9IHtcbiAgJ2V0aGVyZXVtJzogMSxcbiAgJ3BvbHlnb24nOiAxMzcsXG4gICdhcmJpdHJ1bSc6IDQyMTYxLFxuICAnb3B0aW1pc20nOiAxMCxcbiAgJ2Jhc2UnOiA4NDUzXG59O1xuXG5jb25zdCBNVUxUSUNBTExfQUREUkVTU0VTID0ge1xuICAnZXRoZXJldW0nOiAnMHhjQTExYmRlMDU5NzdiMzYzMTE2NzAyODg2MmJFMmExNzM5NzZDQTExJyxcbiAgJ3BvbHlnb24nOiAnMHhjQTExYmRlMDU5NzdiMzYzMTE2NzAyODg2MmJFMmExNzM5NzZDQTExJyxcbiAgJ2FyYml0cnVtJzogJzB4Y0ExMWJkZTA1OTc3YjM2MzExNjcwMjg4NjJiRTJhMTczOTc2Q0ExMScsXG4gICdvcHRpbWlzbSc6ICcweGNBMTFiZGUwNTk3N2IzNjMxMTY3MDI4ODYyYkUyYTE3Mzk3NkNBMTEnLFxuICAnYmFzZSc6ICcweGNBMTFiZGUwNTk3N2IzNjMxMTY3MDI4ODYyYkUyYTE3Mzk3NkNBMTEnXG59O1xuXG5leHBvcnQgY2xhc3MgSW5mdXJhU2VydmljZSB7XG4gIHByaXZhdGUgdG9rZW5MaXN0czogeyBbY2hhaW5JZDogbnVtYmVyXTogVG9rZW5JbmZvW10gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpS2V5OiBzdHJpbmcpIHtcbiAgICB0aGlzLmluaXRpYWxpemVUb2tlbkxpc3RzKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVUb2tlbkxpc3RzKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBGZXRjaCB0b2tlbiBsaXN0cyBmb3IgZWFjaCBjaGFpblxuICAgICAgY29uc3QgW21haW5uZXRUb2tlbnMsIHBvbHlnb25Ub2tlbnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBmZXRjaCgnaHR0cHM6Ly90b2tlbnMuY29pbmdlY2tvLmNvbS91bmlzd2FwL2FsbC5qc29uJykudGhlbihyID0+IHIuanNvbigpKSxcbiAgICAgICAgZmV0Y2goJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tYXRpY25ldHdvcmsvcG9seWdvbi10b2tlbi1saXN0L21hc3Rlci9zcmMvdG9rZW5zLmpzb24nKS50aGVuKHIgPT4gci5qc29uKCkpXG4gICAgICBdKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSB0b2tlbiBsaXN0cyBieSBjaGFpbiBJRFxuICAgICAgdGhpcy50b2tlbkxpc3RzID0ge1xuICAgICAgICBbQ0hBSU5fSURTLmV0aGVyZXVtXTogbWFpbm5ldFRva2Vucy50b2tlbnMsXG4gICAgICAgIFtDSEFJTl9JRFMucG9seWdvbl06IHBvbHlnb25Ub2tlbnMsXG4gICAgICAgIC8vIEFkZCBtb3JlIHRva2VuIGxpc3RzIGZvciBvdGhlciBjaGFpbnNcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIHRva2VuIGxpc3RzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldE5ldHdvcmtVcmwoY2hhaW46IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbmV0d29ya01hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICdldGhlcmV1bSc6ICdtYWlubmV0JyxcbiAgICAgICdwb2x5Z29uJzogJ3BvbHlnb24tbWFpbm5ldCcsXG4gICAgICAnYXJiaXRydW0nOiAnYXJiaXRydW0tbWFpbm5ldCcsXG4gICAgICAnb3B0aW1pc20nOiAnb3B0aW1pc20tbWFpbm5ldCcsXG4gICAgICAnYmFzZSc6ICdiYXNlLW1haW5uZXQnXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBuZXR3b3JrID0gbmV0d29ya01hcFtjaGFpbl0gfHwgJ21haW5uZXQnO1xuICAgIHJldHVybiBgaHR0cHM6Ly8ke25ldHdvcmt9LmluZnVyYS5pby92My8ke3RoaXMuYXBpS2V5fWA7XG4gIH1cblxuICBhc3luYyBnZXRXYWxsZXRJbmZvKGFkZHJlc3M6IHN0cmluZywgY2hhaW46IHN0cmluZyA9ICdldGhlcmV1bScpIHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IG5hdGl2ZSB0b2tlbiBiYWxhbmNlXG4gICAgICBjb25zdCBiYWxhbmNlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmpzb25ScGNDYWxsKGNoYWluLCB7XG4gICAgICAgIG1ldGhvZDogJ2V0aF9nZXRCYWxhbmNlJyxcbiAgICAgICAgcGFyYW1zOiBbYWRkcmVzcywgJ2xhdGVzdCddXG4gICAgICB9KTtcblxuICAgICAgLy8gR2V0IHRva2VuIGJhbGFuY2VzIHVzaW5nIG11bHRpY2FsbFxuICAgICAgY29uc3QgY2hhaW5JZCA9IENIQUlOX0lEU1tjaGFpbiBhcyBrZXlvZiB0eXBlb2YgQ0hBSU5fSURTXTtcbiAgICAgIGNvbnN0IHRva2VucyA9IHRoaXMudG9rZW5MaXN0c1tjaGFpbklkXSB8fCBbXTtcbiAgICAgIGNvbnN0IHRva2VuQmFsYW5jZXMgPSBhd2FpdCB0aGlzLmdldFRva2VuQmFsYW5jZXMoYWRkcmVzcywgdG9rZW5zLCBjaGFpbik7XG5cbiAgICAgIC8vIEdldCB0b2tlbiBwcmljZXMgZnJvbSBDb2luR2Vja28gKGltcGxlbWVudCByYXRlIGxpbWl0aW5nKVxuICAgICAgY29uc3QgdG9rZW5QcmljZXMgPSBhd2FpdCB0aGlzLmdldFRva2VuUHJpY2VzKHRva2Vucy5tYXAodCA9PiB0LmFkZHJlc3MpKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsIHZhbHVlIGFuZCBmb3JtYXQgYmFsYW5jZXNcbiAgICAgIGNvbnN0IGZvcm1hdHRlZEJhbGFuY2VzID0gdG9rZW5CYWxhbmNlcy5tYXAoKGJhbGFuY2UsIGkpID0+ICh7XG4gICAgICAgIHRva2VuOiB0b2tlbnNbaV0sXG4gICAgICAgIGJhbGFuY2U6IGZvcm1hdFVuaXRzKEJpZ0ludChiYWxhbmNlKSwgdG9rZW5zW2ldLmRlY2ltYWxzKSxcbiAgICAgICAgdmFsdWVVU0Q6IHRva2VuUHJpY2VzW3Rva2Vuc1tpXS5hZGRyZXNzLnRvTG93ZXJDYXNlKCldIHx8IDBcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmF0aXZlQmFsYW5jZTogZm9ybWF0RXRoZXIoQmlnSW50KGJhbGFuY2VSZXNwb25zZS5yZXN1bHQpKSxcbiAgICAgICAgdG9rZW5zOiBmb3JtYXR0ZWRCYWxhbmNlcy5maWx0ZXIodCA9PiBwYXJzZUZsb2F0KHQuYmFsYW5jZSkgPiAwKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignSW5mdXJhIEFQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldFRva2VuQmFsYW5jZXMoYWRkcmVzczogc3RyaW5nLCB0b2tlbnM6IFRva2VuSW5mb1tdLCBjaGFpbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGlmICghdG9rZW5zLmxlbmd0aCkgcmV0dXJuIFtdO1xuXG4gICAgY29uc3QgbXVsdGljYWxsQWRkcmVzcyA9IE1VTFRJQ0FMTF9BRERSRVNTRVNbY2hhaW4gYXMga2V5b2YgdHlwZW9mIE1VTFRJQ0FMTF9BRERSRVNTRVNdO1xuICAgIFxuICAgIC8vIFByZXBhcmUgdGhlIGNhbGxzIGFycmF5XG4gICAgY29uc3QgY2FsbHMgPSB0b2tlbnMubWFwKHRva2VuID0+ICh7XG4gICAgICB0YXJnZXQ6IHRva2VuLmFkZHJlc3MgYXMgYDB4JHtzdHJpbmd9YCxcbiAgICAgIGNhbGxEYXRhOiBlbmNvZGVGdW5jdGlvbkRhdGEoe1xuICAgICAgICBhYmk6IEVSQzIwX0FCSSxcbiAgICAgICAgZnVuY3Rpb25OYW1lOiAnYmFsYW5jZU9mJyxcbiAgICAgICAgYXJnczogW2FkZHJlc3MgYXMgYDB4JHtzdHJpbmd9YF1cbiAgICAgIH0pXG4gICAgfSkpO1xuXG4gICAgLy8gTWFrZSB0aGUgbXVsdGljYWxsXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmpzb25ScGNDYWxsKGNoYWluLCB7XG4gICAgICBtZXRob2Q6ICdldGhfY2FsbCcsXG4gICAgICBwYXJhbXM6IFt7XG4gICAgICAgIHRvOiBtdWx0aWNhbGxBZGRyZXNzLFxuICAgICAgICBkYXRhOiBlbmNvZGVGdW5jdGlvbkRhdGEoe1xuICAgICAgICAgIGFiaTogTVVMVElDQUxMX0FCSSxcbiAgICAgICAgICBmdW5jdGlvbk5hbWU6ICdhZ2dyZWdhdGUnLFxuICAgICAgICAgIGFyZ3M6IFtjYWxsc11cbiAgICAgICAgfSlcbiAgICAgIH0sICdsYXRlc3QnXVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdFsxXTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0VG9rZW5QcmljZXMoYWRkcmVzc2VzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBbYWRkcmVzczogc3RyaW5nXTogbnVtYmVyIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYGh0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL3NpbXBsZS90b2tlbl9wcmljZS9ldGhlcmV1bT9jb250cmFjdF9hZGRyZXNzZXM9JHthZGRyZXNzZXMuam9pbignLCcpfSZ2c19jdXJyZW5jaWVzPXVzZGBcbiAgICAgICk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdG9rZW4gcHJpY2VzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGpzb25ScGNDYWxsKGNoYWluOiBzdHJpbmcsIHBheWxvYWQ6IGFueSkge1xuICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0TmV0d29ya1VybChjaGFpbik7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICBpZDogMSxcbiAgICAgICAgLi4ucGF5bG9hZFxuICAgICAgfSlcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbImZvcm1hdEV0aGVyIiwiZm9ybWF0VW5pdHMiLCJlbmNvZGVGdW5jdGlvbkRhdGEiLCJwYXJzZUFiaSIsImZldGNoIiwiRVJDMjBfQUJJIiwiTVVMVElDQUxMX0FCSSIsIm5hbWUiLCJ0eXBlIiwic3RhdGVNdXRhYmlsaXR5IiwiaW5wdXRzIiwiY29tcG9uZW50cyIsIm91dHB1dHMiLCJDSEFJTl9JRFMiLCJNVUxUSUNBTExfQUREUkVTU0VTIiwiSW5mdXJhU2VydmljZSIsImNvbnN0cnVjdG9yIiwiYXBpS2V5IiwidG9rZW5MaXN0cyIsImluaXRpYWxpemVUb2tlbkxpc3RzIiwibWFpbm5ldFRva2VucyIsInBvbHlnb25Ub2tlbnMiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsInIiLCJqc29uIiwiZXRoZXJldW0iLCJ0b2tlbnMiLCJwb2x5Z29uIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0TmV0d29ya1VybCIsImNoYWluIiwibmV0d29ya01hcCIsIm5ldHdvcmsiLCJnZXRXYWxsZXRJbmZvIiwiYWRkcmVzcyIsImJhbGFuY2VSZXNwb25zZSIsImpzb25ScGNDYWxsIiwibWV0aG9kIiwicGFyYW1zIiwiY2hhaW5JZCIsInRva2VuQmFsYW5jZXMiLCJnZXRUb2tlbkJhbGFuY2VzIiwidG9rZW5QcmljZXMiLCJnZXRUb2tlblByaWNlcyIsIm1hcCIsInQiLCJmb3JtYXR0ZWRCYWxhbmNlcyIsImJhbGFuY2UiLCJpIiwidG9rZW4iLCJCaWdJbnQiLCJkZWNpbWFscyIsInZhbHVlVVNEIiwidG9Mb3dlckNhc2UiLCJuYXRpdmVCYWxhbmNlIiwicmVzdWx0IiwiZmlsdGVyIiwicGFyc2VGbG9hdCIsImxlbmd0aCIsIm11bHRpY2FsbEFkZHJlc3MiLCJjYWxscyIsInRhcmdldCIsImNhbGxEYXRhIiwiYWJpIiwiZnVuY3Rpb25OYW1lIiwiYXJncyIsInJlc3BvbnNlIiwidG8iLCJkYXRhIiwiYWRkcmVzc2VzIiwiam9pbiIsInBheWxvYWQiLCJ1cmwiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJqc29ucnBjIiwiaWQiLCJvayIsIkVycm9yIiwic3RhdHVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/infura.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalyze-portfolio&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fanalyze-portfolio.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();